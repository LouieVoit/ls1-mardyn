# mpi
option(ENABLE_MPI "Enable MPI" OFF)
if (ENABLE_MPI)
    message(STATUS "MPI Enabled")
    set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -DENABLE_MPI")
else ()
    message(STATUS "MPI Disabled")
endif ()

option(ENABLE_TIMED_MPI "Enable Timed MPI" OFF)

if (ENABLE_TIMED_MPI)
    if (ENABLE_MPI)
        message(STATUS "Timed MPI Enabled")
        set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -DENABLE_TIMED_MPI")
    else ()
        message(FATAL_ERROR "Timed MPI is enabled, but requires MPI to be enabled, which it is not. Enable with -DENABLE_MPI=ON.")
    endif ()
else ()
    message(STATUS "Timed MPI Disabled")
endif ()